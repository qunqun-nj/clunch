/*!
 * clunch.js <core> - 🎨 The Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author hai2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.0-alpha.1
 *
 * Copyright (c) 2020 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Mon Nov 30 2020 18:28:07 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function(e){return typeof e}}else{n=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return n(e)}function s(e){return t(e)||r(e)||i(e)||a()}function t(e){if(Array.isArray(e))return o(e)}function r(e){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function i(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){var t=n(e);return e!=null&&(t==="object"||t==="function")}var u=Object.prototype.toString;function l(e){if(e==null){return e===undefined?"[object Undefined]":"[object Null]"}return u.call(e)}function e(e){var t=n(e);return t==="string"||t==="object"&&e!=null&&!Array.isArray(e)&&l(e)==="[object String]"}function c(e){if(!f(e)){return false}var t=l(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}function d(e){if(e===null||n(e)!=="object"||l(e)!="[object Object]"){return false}if(Object.getPrototypeOf(e)===null){return true}var t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}var h=function e(t,r){return r!==null&&n(r)==="object"&&t.indexOf(r.nodeType)>-1&&!d(r)};var m=e;var _=c;var p=function e(t){return Array.isArray(t)};var v=function e(t){return h([1,9,11],t)};var g=[];var y=13;var b=400;var w=null;function $(t,e,r){var f={timer:function e(t,r,n){if(!t){throw new Error("Tick is required!")}r=r||b;var i=(new Date).valueOf()+"_"+(Math.random()*1e3).toFixed(0);g.push({id:i,createTime:new Date,tick:t,duration:r,callback:n});f.start();return i},start:function e(){if(!w){w=setInterval(f.tick,y)}},tick:function e(){var t,r,e,n,i,o,a,s=g;g=[];g.length=0;for(r=0;r<s.length;r++){i=s[r];t=i.createTime;e=i.tick;o=i.duration;n=i.callback;a=(+new Date-t)/o;a=a>1?1:a;e(a);if(a<1&&i.id){g.push(i)}else if(n){n(a)}}if(g.length<=0){f.stop()}},stop:function e(){if(w){clearInterval(w);w=null}}};var n=f.timer(function(e){t(e)},e,r);return function(){var e;for(e in g){if(g[e].id==n){g[e].id=undefined;return}}}}var x=function e(t,r){for(var n in r){try{t[n]=r[n]}catch(e){throw new Error("Illegal property value！")}}return t};var O={whitespace:"[\\x20\\t\\r\\n\\f]"};var A=function e(t){if(/^[_$]/.test(t)){console.warn("The beginning of _ or $ is not allowed："+t)}};function S(e,t){for(var r in t){try{e[r]=t[r]}catch(e){throw new Error("Illegal property value！")}}return e}function E(f){f=S({u:.5},f);var u,l,c;var d=function e(t){if(u){var r=(t-l)/(c-l),n=r*r,i=r*n;var o=i*u[0]+n*u[1]+r*u[2]+u[3];return o*(c-l)}else throw new Error("You shoud first set the position!")};d.setP=function(e,t,r,n,i,o){if(e<r){l=e;c=r;var a=f.u*i,s=f.u*o;t/=r-e;n/=r-e;u=[2*t-2*n+a+s,3*n-3*t-2*a-s,a,t]}else throw new Error("The point x-position should be increamented!");return d};return d}function j(i){i=x({t:0},i);var o,r;var a=function e(t){if(o){r=-1;while(r+1<o.x.length&&(t>o.x[r+1]||r==-1&&t>=o.x[r+1])){r+=1}if(r==-1||r>=o.h.length)throw new Error("Coordinate crossing!");return o.h[r](t)}else{throw new Error("You shoud first set the position!")}};a.setT=function(e){if(typeof e==="number"){i.t=e}else{throw new Error("Expecting a figure!")}return a};a.setP=function(e){o={x:[],h:[]};var t,r=(e[1][1]-e[0][1])/(e[1][0]-e[0][0]),n;o.x[0]=e[0][0];for(t=1;t<e.length;t++){if(e[t][0]<=e[t-1][0])throw new Error("The point position should be increamented!");o.x[t]=e[t][0];n=t<e.length-1?(e[t+1][1]-e[t-1][1])/(e[t+1][0]-e[t-1][0]):(e[t][1]-e[t-1][1])/(e[t][0]-e[t-1][0]);o.h[t-1]=E({u:(1-i.t)*.5}).setP(e[t-1][0],e[t-1][1],e[t][0],e[t][1],r,n);r=n}return a};return a}function z(e,t){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;return m(t)?r.getPropertyValue(t):r}var T=function e(t){var r=document.getElementsByTagName("head")[0];r.style["color"]=t;var n=z(r,"color");var i=n.replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+O.whitespace));return[+i[0],+i[1],+i[2],i[3]==undefined?1:+i[3]]};var k=function e(t,r){if(!(r&&r>=0&&r<=1))r=1;var n=[];for(var i=1;i<=t;i++){n.push("rgba("+(Math.random(1)*230+20).toFixed(0)+","+(Math.random(1)*230+20).toFixed(0)+","+(Math.random(1)*230+20).toFixed(0)+","+r+")")}return n};function F(e){var u=e||{},l,n;var i=function e(){var a=[],s=0,f=0;(function e(t,r){if(r>f)f=r;var n;for(n=0;n<t.children.length;n++){e(l[t.children[n]],r+1)}l[t.id].left=r+.5;if(n==0){if(a[r]==undefined)a[r]=-.5;if(a[r-1]==undefined)a[r-1]=-.5;l[t.id].top=a[r]+1;var i=a[r]+1+(l[t.pid].children.length-1)*.5;if(i-1<a[r-1])l[t.id].top=a[r-1]+1-(l[t.pid].children.length-1)*.5}else{l[t.id].top=(l[t.children[0]].top+l[t.children[n-1]].top)*.5}if(l[t.id].top<=a[r]){var o=a[r]+1-l[t.id].top;(function e(t,r){l[t].top+=o;if(a[r]<l[t].top)a[r]=l[t].top;var n;for(n=0;n<l[t].children.length;n++){e(l[t].children[n],r+1)}})(t.id,r)}a[r]=l[t.id].top;if(l[t.id].top+.5>s)s=l[t.id].top+.5})(l[n],0);return{node:l,root:n,size:s,deep:f+1}};var o=function e(o){var a={};var t=u.root(o),s,r;s=r=u.id(t);a[s]={data:t,pid:null,id:s,children:[]};var f=1;(function e(t,r){var n=u.child(t,o),i;f+=n?n.length:0;for(i=0;n&&i<n.length;i++){s=u.id(n[i]);a[r].children.push(s);a[s]={data:n[i],pid:r,id:s,children:[]};e(n[i],s)}})(t,s);return{value:[r,a],num:f}};var t=function e(t){var r=o(t);l=r.value[1];n=r.value[0];if(r.num==1){l[n].left=.5;l[n].top=.5;return{deep:1,node:l,root:n,size:1}}return i()};t.root=function(e){u.root=e;return t};t.child=function(e){u.child=e;return t};t.id=function(e){u.id=e;return t};return t}var M=function e(t,r,n,i,o){var a=Math.cos(n),s=Math.sin(n);return[+((i-t)*a-(o-r)*s+t).toFixed(7),+((i-t)*s+(o-r)*a+r).toFixed(7)]};var P=function e(t,r,n,i,o){var a=Math.sqrt(t*t+r*r);return[+(t*n/a+i).toFixed(7),+(r*n/a+o).toFixed(7)]};var R=function e(t,r,n,i,o){return[+(n*(i-t)+t).toFixed(7),+(n*(o-r)+r).toFixed(7)]};var C=function e(o){o=x({d:[1,1],c:[0,0],p:[0,0]},o);var a={rotate:function e(t){var r=o.d[0]+o.p[0],n=o.d[1]+o.p[1];var i=M(o.p[0],o.p[1],t,r,n);o.d=[i[0]-o.p[0],i[1]-o.p[1]];return a},move:function e(t){o.p=P(o.d[0],o.d[1],t,o.p[0],o.p[1]);return a},scale:function e(t){o.p=R(o.c[0],o.c[1],t,o.p[0],o.p[1]);return a},value:function e(){return o.p}};return a};function I(m){m=x({"begin-deg":0,deg:Math.PI*2},m);var w=F().root(m.root).child(m.child).id(m.id);var t=function e(t){var r=w(t);for(var n in r.node){r.node[n].deep=r.node[n].left-.5}if(m.type==="LR"||m.type==="RL"){var i=m.width/r.deep;if("RL"===m.type)i*=-1;var o=m.height/(r.size- -.5);for(var a in r.node){var s=r.node[a];r.node[a].left=+(("RL"==m.type?m.width:0)- -s.left*i).toFixed(7);r.node[a].top=+(s.top*o).toFixed(7)}}else if(m.type==="TB"||m.type==="BT"){var f=m.height/r.deep;if("BT"==m.type)f*=-1;var u=m.width/(r.size- -.5);var l,c;for(var d in r.node){var h=r.node[d];l=h.left;c=h.top;r.node[d].top=+(("BT"==m.type?m.height:0)- -l*f).toFixed(7);r.node[d].left=+(c*u).toFixed(7)}}else if(m.type==="circle"){if(r.deep==1&&r.size==1){r.node[r.root].left=m.cx;r.node[r.root].top=m.cy}else{var p=m.radius/(r.deep-1);var v=m.deg/(r.size- -.5);for(var g in r.node){var y=r.node[g];r.node[g].deg=(m["begin-deg"]- -v*y.top)%(Math.PI*2);var b=M(m.cx,m.cy,r.node[g].deg,m.cx- -p*(y.left-.5),m.cy);r.node[g].left=+b[0];r.node[g].top=+b[1]}}}if(_(m.drawer)){m.drawer(r);return e}else{return r}};t.config=function(e){m=x(m,e);return t};t.drawer=function(e){m.drawer=e;return t};return t}function D(i){var t=[];var e=function e(n){if(["boolean","number","json","string","color","any"].indexOf(i[n])>-1){t.unshift(function(t){var r=arguments.length>0?false:true;return function(e){return{type:i[n],required:r,animation:e,default:t}}})}else{t.unshift({$animation:$,$cardinal:j,$formatColor:T,$getRandomColors:k,$tree:I,$dot:C,$rotate:M,$move:P,$scale:R}[i[n]])}};for(var r=i.length-2;r>=0;r--){e(r)}return i[i.length-1].apply(this,t)}function B(e,b){return function e(t,r){var n=[];for(var i=0;i<t.length;i++){var o=t[i];if(r||o.name in b){var a={name:o.name,attrs:{},events:[],scope:{}};var s=r?{attrs:b[r].subAttrs[o.name]}:b[o.name];for(var f in o.attrs){if(/^c\-bind\:/.test(f)){o.attrs[f.replace(/^c\-bind\:/,"")]={isBind:true,express:o.attrs[f]}}else if(/^c\-on\:/.test(f)){var u=(f.replace(/^c\-on\:/,"")+"@default").split("@");a.events.push({event:u[0],region:u[1],method:o.attrs[f]})}else if("c-for"==f){var l=/^ {0,}\(/.test(o.attrs[f]);var c=l?/^ {0,}\( {0,}([0-9a-zA-Z_$]+) {0,}, {0,}([0-9a-zA-Z_$]+) {0,}\) {1,}in {1,}([^ ]+) {0,}$/.exec(o.attrs[f]):/^ {0,}([0-9a-zA-Z_$]+) {1,}in {1,}([^ ]+) {0,}$/.exec(o.attrs[f]);a["c-for"]={key:l?c[2]:null,value:c[1],data:l?c[3]:c[2]}}else if("c-if"==f){a["c-if"]=o.attrs[f]}else{o.attrs[f]={isBind:false,express:o.attrs[f]}}}for(var d in s.attrs){var h=s.attrs[d];if(h.required&&!(d in o.attrs)){throw new Error("attrs."+d+" is required for series "+o.name+"!")}a.attrs[d]={animation:h.animation,type:h.type,value:d in o.attrs?o.attrs[d]:{isBind:false,express:h["default"]}}}var p=[],v=[],g=[];if(o.children){for(var y=0;y<o.children.length;y++){if(m(o.children[y])){g.push(o.children[y])}else if(s.subAttrs&&o.children[y].name in s.subAttrs){v.push(o.children[y])}else{p.push(o.children[y])}}}a.children=e(p);a.subAttrs=e(v,o.name);a.text=g;n.push(a)}else{console.error("Series "+o.name+" is not defined!")}}return n}(e)}function U(e){e.prototype.$$init=function(e){this.__options=e;this.__data=p(e.data)?D(e.data):_(e.data)?e.data():e.data;this._isMounted=false;this._isDestroyed=false;for(var t in e.methods){A(t);this[t]=p(e.methods[t])?D(e.methods[t]):e.methods[t]}for(var r in this.__data){A(r);this[r]=this.__data[r]}this.__renderFlag=!!e.render||!!e.template;if(!!e.render){this.__renderAOP=B(e.render,this.__defineSerirs)}else if(!!e.template){this.__renderOptions=this.$$templateCompiler(e.template);this.__renderAOP=B(this.__renderOptions,this.__defineSerirs)}}}function L(e){e.prototype.$$lifecycle=function(e){if(_(e)){e()}else{if(["created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDraw","drawed","beforeDestroy","destroyed"].indexOf(e)>-1&&_(this.__options[e])){this.__options[e].call(this)}}return this}}var q={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/};var V=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="];var W=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function Z(e,r,t){r=r.trim();var n=-1,i=null;var o=function e(){i=n++<r.length-1?r[n]:null;return i};var a=function e(t){return r.substring(n,t+n>r.length?r.length:t+n)};o();var s=[];while(true){if(n>=r.length)break;if(V.indexOf(i)>-1){if(["&","|","="].indexOf(i)>-1){if(["==="].indexOf(a(3))>-1){s.push(a(3));n+=2;o()}else if(["&&","||","=="].indexOf(a(2))>-1){s.push(a(2));n+=1;o()}else{throw new Error("Illegal expression : ".concat(r,"\nstep='analyseExpress',index=").concat(n))}}else{if(["!=="].indexOf(a(3))>-1){s.push(a(3));n+=2;o()}else if([">=","<=","!="].indexOf(a(2))>-1){s.push(a(2));n+=1;o()}else{s.push(i);o()}}}else if(['"',"'"].indexOf(i)>-1){var f="",u=i;o();while(i!=u){if(n>=r.length){throw new Error("String unclosed error : ".concat(r,"\nstep='analyseExpress',index=").concat(n))}f+=i;o()}s.push(f+"@string");o()}else if(/\d/.test(i)){var l="no";var c=i;o();while(n<r.length){if(/\d/.test(i)){c+=i;if(l=="error")l="yes"}else if("."==i&&l=="no"){c+=i;l="error"}else{break}o()}if(l=="error")c+="0";s.push(+c)}else if(["null","true"].indexOf(a(4))>-1){s.push({null:null,true:true}[a(4)]);n+=3;o()}else if(["false"].indexOf(a(5))>-1){s.push({false:false}[a(5)]);n+=4;o()}else if(["undefined"].indexOf(a(9))>-1){s.push({undefined:undefined}[a(9)]);n+=8;o()}else if(q.blankReg.test(i)){do{o()}while(q.blankReg.test(i)&&n<r.length)}else{var d=false;if(i=="."){d=true;o()}if(q.identifier.test(i)){var h=1;while(n+h<=r.length&&q.identifier.test(a(h))){h+=1}if(d){s.push("[");s.push(a(h-1)+"@string");s.push("]")}else{var p=a(h-1);var v=p in t?t[p]:e[p];s.push(m(v)?v+"@string":v)}n+=h-2;o()}else{throw new Error("Illegal express : ".concat(r,"\nstep='analyseExpress',index=").concat(n))}}}var g=0;for(var y=0;y<s.length;y++){if(["+","-"].indexOf(s[y])>-1&&(y==0||W.indexOf(s[g-1])>-1)){s[g++]=+(s[y]+s[y+1]);y+=1}else{s[g++]=s[y]}}s.length=g;return s}var N=function e(t){if(typeof t=="string")return t.replace(/@string$/,"");return t};var H=function e(t){if(typeof t=="string")return t+"@string";return t};function Y(e){var t=0,r=0;for(;r<e.length;r++){if(e[r]=="!"){e[t]=!e[++r]}else e[t]=e[r];t+=1}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]=="*"){e[t-1]=N(e[t-1])*N(e[++r])}else if(e[r]=="/"){e[t-1]=N(e[t-1])/N(e[++r])}else if(e[r]=="%"){e[t-1]=N(e[t-1])%N(e[++r])}else{e[t++]=e[r]}}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]=="+"){e[t-1]=H(N(e[t-1])+N(e[++r]))}else if(e[r]=="-"){e[t-1]=N(e[t-1])-N(e[++r])}else e[t++]=e[r]}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]==">"){e[t-1]=N(e[t-1])>N(e[++r])}else if(e[r]=="<"){e[t-1]=N(e[t-1])<N(e[++r])}else if(e[r]=="<="){e[t-1]=N(e[t-1])<=N(e[++r])}else if(e[r]==">="){e[t-1]=N(e[t-1])>=N(e[++r])}else e[t++]=e[r]}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]=="=="){e[t-1]=N(e[t-1])==N(e[++r])}else if(e[r]=="==="){e[t-1]=N(e[t-1])===N(e[++r])}else if(e[r]=="!="){e[t-1]=N(e[t-1])!=N(e[++r])}else if(e[r]=="!=="){e[t-1]=N(e[t-1])!==N(e[++r])}else e[t++]=e[r]}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]=="&&"){e[t-1]=N(e[t-1])&&N(e[1+r]);r+=1}else if(e[r]=="||"){e[t-1]=N(e[t-1])||N(e[1+r]);r+=1}else e[t++]=e[r]}if(t==1)return N(e[0]);e.length=t;t=0;for(r=0;r<e.length;r++){if(e[r]=="?"){e[t-1]=N(e[t-1])?N(e[r+1]):N(e[r+3]);r+=3}else e[t++]=e[r]}if(t==1)return N(e[0]);e.length=t;throw new Error("Unrecognized expression : ["+e.toString()+"]")}function G(t,r,n){var e=r[0]in n?n[r[0]]:t[r[0]];for(var i=1;i<r.length;i++){try{e=e[r[i]]}catch(e){console.error({target:t,scope:n,expressArray:r,index:i});throw e}}return e}var J=function e(t,r,n){if(r.indexOf("(")>-1){var i=[],o=[],a=0;for(var s=0;s<r.length;s++){if(r[s]=="("){if(a>0){o.push("(")}a+=1}else if(r[s]==")"){if(a>1)o.push(")");a-=1;if(a==0){var f=Y(e(t,o));i.push(m(f)?f+"@string":f);o=[]}}else{if(a>0)o.push(r[s]);else i.push(r[s])}}r=i}return K(r)};var K=function e(t){var r=true;while(r){r=false;var n=[],i=[],o=false;for(var a=0;a<t.length;a++){if(t[a]=="["&&a!=0&&t[a-1]!="]"){if(o){n.push("[");for(var s=0;s<i.length;s++){n.push(i[s])}}else{o=true}i=[]}else if(t[a]=="]"&&o){r=true;var f=Y(i);var u=n[n.length-1][f];n[n.length-1]=m(u)?u+"@string":u;o=false}else{if(o){i.push(t[a])}else{n.push(t[a])}}}t=n}return t};var Q=function e(t){var r=[],n=[];for(var i=0;i<t.length;i++){if(t[i]=="["){n=[]}else if(t[i]=="]"){r.push(Y(n))}else{n.push(t[i])}}return r};function X(e,t,r){var n=J(e,t);var i;if(n[0]!="["){i=[Y(n)]}else if(n[n.length-1]=="]"){i=Q(n)}else{var o=n.lastIndexOf("]");var a=Q(n.slice(0,o+1));i=[Y([G(e,a,r)].concat(s(n.slice(o+1))))]}return i}var ee=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=Z(t,r,n);var o=X(t,i,n);if(o.length>1)throw new Error("Illegal expression : ".concat(r,"\nstep='evalExpress',path=").concat(o,",expressArray=").concat(i));return o[0]};function te(e){e.prototype.$$updateView=function(){this.$$lifecycle("beforeDraw");this.$$lifecycle("drawed")};e.prototype.$$updateWithSize=function(){this.$$lifecycle("beforeResize");this.$$lifecycle("resized")};e.prototype.$$updateWithData=function(){this.$$lifecycle("beforeUpdate");this.__events={click:{},dblclick:{},mousemove:{},mousedown:{},mouseup:{}};var f=[],u=this;(function e(t,r){for(var n=0;n<t.length;n++){for(var i in r){if(!(i in t[n].scope)){t[n].scope=r[i]}}if("c-for"in t[n]){var o=t[n]["c-for"];delete t[n]["c-for"];var a=ee(u,o.data,t[n].scope);for(var s in a){t[n].scope[o.value]=a[s];if(o.key!=null)t[n].scope[o.key]=s;f.push(e([t[n]]),{})}continue}if("c-if"in t[n]&&!ee(u,t[n]["c-if"],t[n].scope))continue;console.log(t[n])}})(this.__renderAOP,{});this.__renderSeries=f;this.$$lifecycle("updated")}}function re(n){var e=function e(t){var r=n.__data[t];n[t]=r;Object.defineProperty(n,t,{get:function e(){return r},set:function e(t){r=t;n.$$updateWithData()}})};for(var t in n.__data){e(t)}}function ne(t){if(!(this instanceof ne)){console.error("Clunch is a constructor and should be called with the `new` keyword");return}["beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDestroy","destroyed"].forEach(function(e){if(p(t[e])){t[e]=D(t[e])}});this.$$lifecycle(t.beforeCreate);this.$$init(t);re(this);this.$$lifecycle("created");if(v(t.el)){this.$mount(t.el)}}U(ne);L(ne);te(ne);ne.prototype.__defineSerirs={};function ie(e){try{e.__resizeObserver=new ResizeObserver(function(){e.$$updateWithSize()});e.__resizeObserver.observe(e.__el)}catch(e){console.info(e);console.error("ResizeObserver undefined!")}}function oe(e){var t=D(e);for(var r in t.attrs){if(_(t.attrs[r])){t.attrs[r]=t.attrs[r](false)}}for(var n in t.subAttrs){for(var i in t.subAttrs[n]){if(_(t.subAttrs[n][i])){t.subAttrs[n][i]=t.subAttrs[n][i](false)}}}return t}function ae(n){n.series=function(e,t){if(arguments.length==1){for(var r in e){n.series(r,e[r])}}else{if(_(n.prototype.__defineSerirs[e])){console.warn("The series["+e+"] has been registered!")}n.prototype.__defineSerirs[e]=oe(t)}return n}}ae(ne);ne.prototype.$mount=function(e){if(this._isDestroyed){console.warn("The clunch has been destroyed!");return}if(this._isMounted){console.warn("The clunch is already mounted!");return}if(!v(e)){console.warn("Mount node does not exist!");return}this.$$lifecycle("beforeMount");if(!this.__renderFlag){this.__renderOptions=this.$$templateCompiler(e.innerHTML);this.__renderAOP=B(this.__renderOptions,this.__defineSerirs)}this.__el=e;e.innerHTML="<canvas>非常抱歉，您的浏览器不支持canvas!</canvas>";this.__canvas=e.getElementsByTagName("canvas")[0];this.$$updateWithData();ie(this);this._isMounted=true;this.$$lifecycle("mounted");return this};ne.prototype.$unmount=function(){};ne.prototype.$destroy=function(){};ne.series("group",[function(){return{attrs:{}}}]);ne.prototype.$$templateCompiler=function(e){throw new Error("Sorry, setting template property is not supported in the current environment : \n"+e)};if((typeof module==="undefined"?"undefined":n(module))==="object"&&n(module.exports)==="object"){module.exports=ne}else{window.Clunch=ne}})();