/*!
 * clunch.js - üìäüìàüéâThe Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author hai2007
 *
 * version 0.1.0-alpha.1
 *
 * Copyright (c) 2020 hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
 * Released under the MIT license
 *
 * Date:Tue Nov 17 2020 12:14:25 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function e(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){e=function(t){return typeof t}}else{e=function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return e(t)}function u(t,e,r,n){n=n||0;var o=Math.sqrt(e*e+r*r+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,e*t/o,r*t/o,n*t/o,1]}function y(t){var e=Math.sin(t),r=Math.cos(t);return[r,e,0,0,-e,r,0,0,0,0,1,0,0,0,0,1]}function i(t,e,r,n,o,u){n=n||0;o=o||0;u=u||0;return[t,0,0,0,0,e,0,0,0,0,r,0,n-n*t,o-o*e,u-u*r,1]}function s(t,e,r,n,o,u){if(typeof t==="number"&&typeof e==="number"){if(typeof r!=="number"){r=0;n=t;o=e;u=1}else if(typeof n!=="number"||typeof o!=="number"||typeof u!=="number"){n=t;o=e;u=r;t=0;e=0;r=0}if(t==n&&e==o&&r==u)throw new Error("It's not a legitimate ray!");var f=Math.sqrt((n-t)*(n-t)+(o-e)*(o-e)),i=f!=0?(o-e)/f:1,a=f!=0?(n-t)/f:0,c=(n-t)*a+(o-e)*i,l=u-r,y=Math.sqrt(c*c+l*l),s=y!=0?l/y:1,m=y!=0?c/y:0;return[[i,s*a,a*m,0,-a,i*s,i*m,0,0,-m,s,0,e*a-t*i,r*m-t*a*s-e*i*s,-t*a*m-e*i*m-r*s,1],[i,-a,0,0,s*a,s*i,-m,0,a*m,i*m,s,0,t,e,r,1]]}else{throw new Error("a1 and b1 is required!")}}var m=function t(e,r){var n=[];for(var o=0;o<4;o++){for(var u=0;u<r.length/4;u++){n[u*4+o]=e[o]*r[u*4]+e[o+4]*r[u*4+1]+e[o+8]*r[u*4+2]+e[o+12]*r[u*4+3]}}return n};function t(t){var c=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var l={move:function t(e,r,n,o){c=m(u(e,r,n,o),c);return l},rotate:function t(e,r,n,o,u,f,i){var a=s(r,n,o,u,f,i);c=m(m(m(a[1],y(e)),a[0]),c);return l},scale:function t(e,r,n,o,u,f){c=m(i(e,r,n,o,u,f),c);return l},multiply:function t(e,r){c=r?m(c,e):m(e,c);return l},use:function t(e,r,n,o){n=n||0;o=o||1;var u=m(c,[e,r,n,o]);u[0]=+u[0].toFixed(7);u[1]=+u[1].toFixed(7);u[2]=+u[2].toFixed(7);u[3]=+u[3].toFixed(7);return u},value:function t(){return c}};return l}var r={};r.Matrix4=t;if((typeof module==="undefined"?"undefined":e(module))==="object"&&e(module.exports)==="object"){module.exports=r}else{window.Clunch=r}})();