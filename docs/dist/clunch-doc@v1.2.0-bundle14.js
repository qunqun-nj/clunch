(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{31:function(a,c,e){"use strict";var t=e(6),i=e.n(t);c.a=function(a,c){i()("."+a).attr("active","no"),i()("."+a+"."+c).attr("active","yes")}},32:function(a,c,e){"use strict";var t=e(6),i=e.n(t);c.a=function(a,c){c=c||0,a=a||document.documentElement;var e=function(){var a=window.location.href.split("?")[1]||"";if(""==a)return{};var c=a.split("&"),e={};return c.forEach((function(a){var c=a.split("=");e[c[0]]=c[1]})),e}().fixed;if(e){var t=i()("#fixed-"+e);if(t.length>0){var n=t[0].offsetTop-c,r=a.scrollTop||0;i.a.animation((function(c){a.scrollTop=(n-r)*c+r}),500,(function(){a.scrollTop=n}))}}else a.scrollTop=0}},60:function(a,c,e){var t=e(61);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);(0,e(2).default)("data-icrush-cf796048",t,!0)},61:function(a,c,e){(a.exports=e(1)(!1)).push([a.i,"",""])},87:function(a,c,e){"use strict";e.r(c);var t,i,n,r,s=e(31),d=e(32),l=e(33),u=e.n(l),h=[{name:"text",attrs:{"c-bind:x":"value * 5",align:"center",y:"3","c-bind:content":'"当前随机生成的值：" + value',baseline:"top"},children:[]},{name:"rect",attrs:{"c-bind:width":"value * 5",height:"20",x:"0",y:"20",type:"fill","fill-color":"red"},children:[]},{name:"rect",attrs:{width:"500",height:"20",x:"0",y:"20",type:"stroke"},children:[]}],o=[{name:"text",attrs:{"c-bind:x":"value * 5","c-bind:align":'value>83?"right":(value<16?"left":"center")',y:"3","c-bind:content":'"当前随机生成的值：" + value',baseline:"top"},children:[]},{name:"rect",attrs:{"c-bind:width":"value * 5",height:"20",x:"0",y:"20",type:"fill","fill-color":"red"},children:[]},{name:"rect",attrs:{width:"500",height:"20",x:"0",y:"20",type:"stroke"},children:[]}],f={created:function(){Object(s.a)("menu-2","introduce")},beforeDestroy:function(){clearInterval(t),clearInterval(i),n.$destroy(),r.$destroy()},mounted:function(){Object(d.a)(document.getElementById("course-id"),44),n=new u.a({el:document.getElementById("canvas-1"),render:h,data:function(){return{value:0}},mounted:function(){var a=this;t=setInterval((function(){a.value=(100*Math.random()).toFixed(0)}),1500)}}),r=new u.a({el:document.getElementById("canvas-2"),render:o,filter:{calcAlign:function(a){return a>83?"right":a<16?"left":"center"}},data:function(){return{value:0}},mounted:function(){var a=this;i=setInterval((function(){a.value=(100*Math.random()).toFixed(0)}),1500)}})}};e(60);f.render=function(a){return a("div",{class:"doc-view","data-icrush-cf796048":""},[a("header",{id:"fixed-top","data-icrush-cf796048":""},["开始使用"]),a("h1",{id:"fixed-environment","data-icrush-cf796048":""},["环境搭建"]),a("h3",{id:"fixed-normal","data-icrush-cf796048":""},["普通环境"]),a("p",{"data-icrush-cf796048":""},["由于本身",a("span",{class:"public","data-icrush-cf796048":""},["clunch.js"]),"不基于任何库或框架等，因此，你引入以后，直接通过",a("span",{class:"important","data-icrush-cf796048":""},["new Clunch(option)"]),"的方式即可："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["new Clunch({↵    el:挂载点,↵    template:模板字符串,↵    ......↵});"]),a("p",{class:"warn","data-icrush-cf796048":""},["温馨提示：需要注意的是，你需要引入支持template属性的包。"]),a("h3",{id:"fixed-webpack","data-icrush-cf796048":""},["webpack"]),a("p",{"data-icrush-cf796048":""},["由于我们目前推荐基于",a("span",{class:"important","data-icrush-cf796048":""},["webpack"]),"开发，因此，后续的演示都是基于webpack搭建的开发环境。"]),a("p",{class:"warn","data-icrush-cf796048":""},["温馨提示：前端框架是选择vue、react或者没有框架都无所谓。"]),a("p",{"data-icrush-cf796048":""},["首先，你需要安装clunch.js:"]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["npm install --save clunch"]),a("p",{"data-icrush-cf796048":""},["安装好了以后，直接在",a("span",{class:"important","data-icrush-cf796048":""},["webpack.config.js"]),"配置文件中添加loader配置："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["module.exports = {↵    ......↵    module: {↵        rules:[↵            {↵                test: /\\.clunch$/,↵                exclude: /node_modules/,↵                loader: ['clunch/loader.js']↵            },↵            ......↵        ]↵};"]),a("p",{"data-icrush-cf796048":""},["经过上面的配置以后，环境就搭建好了。"]),a("h1",{id:"fixed-simple-example","data-icrush-cf796048":""},["一个简单的例子"]),a("p",{"data-icrush-cf796048":""},["假如现在有一个这样的需求：一个进度条，范围是0~100，我们每隔1.5s随机生成一个数（值的范围是0~100），进度实时显示。"]),a("h3",{id:"fixed-simple-example-file","data-icrush-cf796048":""},["第一步：编辑clunch文件"]),a("p",{"data-icrush-cf796048":""},["你需要新建一个",a("span",{class:"important","data-icrush-cf796048":""},[".clunch文件"]),"，比如",a("span",{class:"public","data-icrush-cf796048":""},["demo1.clunch"]),"，然后在里面添加下列代码："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["\x3c!-- 显示当前的值 --\x3e↵<text c-bind:x='value * 5' align='center' y='0'↵      c-bind:content='\"当前随机生成的值：\" + value' baseline='top'/>↵↵\x3c!-- 进度条值,因为总长度是500，值的范围是0~100，实际宽就应该乘以5 --\x3e↵<rect c-bind:width='value * 5' height='20' x='0' y='20' type='fill' fill-color='red'/>↵↵\x3c!-- 进度条轮廓 --\x3e↵<rect width='500' height='20' x='0' y='20' type='stroke'/>"]),a("h3",{id:"fixed-simple-example-canvas","data-icrush-cf796048":""},["第二步：准备画布"]),a("p",{"data-icrush-cf796048":""},["可能叫挂载点更合适，我们需要在页面上准备好挂载的地方，比如有一个div，给他设置了大小（这个div的大小直接决定了最终绘图画布的大小）："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["<div id='canvas-1' style='width:500px;height:40px;'></div>"]),a("h3",{id:"fixed-simple-example-object","data-icrush-cf796048":""},["第三步：创建clunch对象"]),a("p",{"data-icrush-cf796048":""},["比如在和上述",a("span",{class:"important","data-icrush-cf796048":""},[".clunch文件"]),"同级目录的",a("span",{class:"important","data-icrush-cf796048":""},[".js文件"]),"里面："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},["import Clunch from 'clunch';↵import demo1 from './demo1.clunch';↵↵new Clunch({↵    el:document.getElementById('canvas-1'),↵    render:demo1,↵    data(){↵        return {↵            value:0↵        };↵    },↵    mounted(){↵↵        // 每隔1500秒改变一下数据↵        setInterval(()=>{↵            this.value = (Math.random() * 100).toFixed(0);↵        },1500);↵    }↵});"]),a("h2",{id:"fixed-simple-example-show1","data-icrush-cf796048":""},["运行效果一"]),a("p",{"data-icrush-cf796048":""},["到这里，简单的例子就写完了，下面是运行效果："]),a("div",{id:"canvas-1",style:"width:500px;height:40px;","data-icrush-cf796048":""},[]),a("h3",{id:"fixed-simple-example-filter","data-icrush-cf796048":""},["第四步：三元表达式"]),a("p",{"data-icrush-cf796048":""},["在上面的例子我们发现，如果随机数过小或过大的时候，文字有部分显示不出来，因为我们设置的文字水平对齐方式是固定居中的。"]),a("p",{"data-icrush-cf796048":""},["幸运的是，c-bind指令可以解析一个合法的js表达式，因此，只需要对.clunch进行简单的修改即可（此次修改只涉及",a("span",{class:"public","data-icrush-cf796048":""},["text标签"]),"，别的不列出了）："]),a("pre",{"ui-code":"","data-icrush-cf796048":""},['<text c-bind:x=\'value * 5\'↵    c-bind:align=\'value>83?"right":(value<16?"left":"center")\' ... />']),a("h2",{id:"fixed-simple-example-show2","data-icrush-cf796048":""},["运行效果二"]),a("p",{"data-icrush-cf796048":""},["然后我们看看现在的效果："]),a("div",{id:"canvas-2",style:"width:500px;height:40px;","data-icrush-cf796048":""},[]),a("h1",{id:"fixed-simple-example-end","data-icrush-cf796048":""},["小结"]),a("p",{"data-icrush-cf796048":""},["经过上面的学习，我们主要让你感受一下clunch是如何设计绘图方式的，也就是",a("span",{class:"important","data-icrush-cf796048":""},["数据驱动绘图"]),"的方式，使用者专注业务代码的开发即可！"]),a("p",{"data-icrush-cf796048":""},["在实际开发中，会遇到很多种情况，为了兼容这些，我们在下列两方面进行了探索："]),a("ul",{"data-icrush-cf796048":""},[a("li",{"data-icrush-cf796048":""},["首先，图形交互、画布自适应大小、过渡动画和浏览器兼容等问题，我们通过配置、指令、服务等方式主动提供，避免clunch使用者再去考虑，降低了难度。"]),a("li",{"data-icrush-cf796048":""},["其次，虽然上面只使用了",a("span",{class:"public","data-icrush-cf796048":""},["text"]),"和",a("span",{class:"public","data-icrush-cf796048":""},["rect"]),"标签，实际项目这些基本的可能无法完成，通过",a("span",{class:"important","data-icrush-cf796048":""},["自定义小组件"]),"等方式，提高了代码的复用性。"])]),a("p",{"data-icrush-cf796048":""},["当然，一切都在探索中，我们会根据反馈不断迭代更新。"]),a("div",{class:"bottom-link","data-icrush-cf796048":""},[a("a",{href:"#/course/install?fixed=top",target:"_blank",class:"left","data-icrush-cf796048":""},["上一节：说明"])])])};c.default=f}}]);